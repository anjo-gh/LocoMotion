!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.LocoMotion=e():n.LocoMotion=e()}(self,(()=>(()=>{"use strict";var n={d:(e,u)=>{for(var t in u)n.o(u,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:u[t]})},o:(n,e)=>Object.prototype.hasOwnProperty.call(n,e),r:n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},e={};n.r(e),n.d(e,{LocoMotion:()=>_a});var u={compose:function(n){return function(e){return function(u){return n(e(u))}}}},t=function(n){return n.identity},r={identity:function(n){return n},Semigroupoid0:function(){return u}},a=function(n){return function(e){return function(u){return n(u)(e)}}},o=function(n){return function(e){return n}},i=void 0,c=function(){function n(){}return n.value=new n,n}(),f=function(n){return n.map},l={map:function(n){return function(e){for(var u=e.length,t=new Array(u),r=0;r<u;r++)t[r]=n(e[r]);return t}}},v=function(n){return n.reflectSymbol},s={append:function(n){return function(e){return n+e}}},m={append:function(n){return function(e){return 0===n.length?e:0===e.length?n:n.concat(e)}}},w=function(n){return n.append},p=function(n){return n.apply},d=function(n){return n.pure},h=function(n){return function(e){return function(u){if(e)return u;if(!e)return d(n)(i);throw new Error("Failed pattern match at Control.Applicative (line 63, column 1 - line 63, column 63): "+[e.constructor.name,u.constructor.name])}}},g=String.fromCharCode(65535),E=String.fromCharCode(0),y=(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,function(n){return function(e){return function(u){return function(t){return function(r){return t<r?n:t===r?e:u}}}}}),F=y,M=y,S=y,b=function(n){return function(e){return n===e}},D={eq:b},A={eq:b},T={eq:b},I=function(){function n(){}return n.value=new n,n}(),C=function(){function n(){}return n.value=new n,n}(),R=function(){function n(){}return n.value=new n,n}(),x=function(n){return n.zero},P={add:function(n){return function(e){return n+e|0}},zero:0,mul:function(n){return function(e){return n*e|0}},one:1},O=function(n){return n.one},z=function(n){return n.mul},L=function(n){return n.sub},N={sub:function(n){return function(e){return n-e|0}},Semiring0:function(){return P}},B=function(n){return function(e){return L(n)(x(n.Semiring0()))(e)}},W=function(){return{compare:M(I.value)(R.value)(C.value),Eq0:function(){return D}}}(),H=function(){return{compare:F(I.value)(R.value)(C.value),Eq0:function(){return A}}}(),q=function(){return{compare:S(I.value)(R.value)(C.value),Eq0:function(){return T}}}(),U=function(n){return n.compare},V=function(n){return n.top},k={top:2147483647,bottom:-2147483648,Ord0:function(){return H}},j={top:g,bottom:E,Ord0:function(){return q}},Y=function(n){return n.bottom},G=function(n){return function(e){return e.join(n)}},Z={show:function(n){var e=n.length;return'"'+n.replace(/[\0-\x1F\x7F"\\]/g,(function(u,t){switch(u){case'"':case"\\":return"\\"+u;case"":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v"}var r=t+1,a=r<e&&n[r]>="0"&&n[r]<="9"?"\\&":"";return"\\"+u.charCodeAt(0).toString(10)+a}))+'"'}},_={showRecordFields:function(n){return function(n){return[]}}},X=function(n){return n.showRecordFields},J=function(){return function(){return function(n){return{show:function(e){var u=X(n)(c.value)(e);return 0===u.length?"{}":G(" ")(["{",G(", ")(u),"}"])}}}}},K={show:function(n){var e=n.toString();return isNaN(e+".0")?e:e+".0"}},Q={show:function(n){return n.toString()}},$={show:function(n){if(n)return"true";if(!n)return"false";throw new Error("Failed pattern match at Data.Show (line 23, column 1 - line 25, column 23): "+[n.constructor.name])}},nn=function(n){return n.show},en=function(n){return{show:(e=nn(n),function(n){for(var u=[],t=0,r=n.length;t<r;t++)u[t]=e(n[t]);return"["+u.join(",")+"]"})};var e},un=function(n){return function(e){return function(u){return{showRecordFields:function(t){return function(t){var r,a,o=X(e)(c.value)(t),i=v(n)(c.value),f=(r=i,function(n){return n[r]})(t);return(a=G(": ")([i,nn(u)(f)]),function(n){return[a].concat(n)})(o)}}}}}},tn=function(){function n(){}return n.value=new n,n}(),rn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),an=function(n){return function(e){return function(u){if(u instanceof tn)return n;if(u instanceof rn)return e(u.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[n.constructor.name,e.constructor.name,u.constructor.name])}}},on=an(!0)(o(!1)),cn=function(){return function(n){if(n instanceof rn)return n.value0;throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): "+[n.constructor.name])}},fn=function(n,e,u,t,r,a,o){var i=new Date(Date.UTC(n,e,u,t,r,a,o));return n>=0&&n<100&&i.setUTCFullYear(n),i.getTime()},ln=function(n){return n.discard},vn=function(n){return n.bind},sn={discard:function(n){return vn(n)}};function mn(n){return n.charCodeAt(0)}var wn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),pn=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),dn=function(n){return function(e){return{show:function(u){if(u instanceof wn)return"(Left "+nn(n)(u.value0)+")";if(u instanceof pn)return"(Right "+nn(e)(u.value0)+")";throw new Error("Failed pattern match at Data.Either (line 173, column 1 - line 175, column 46): "+[u.constructor.name])}}}},hn={map:function(n){return function(e){if(e instanceof wn)return new wn(e.value0);if(e instanceof pn)return new pn(n(e.value0));throw new Error("Failed pattern match at Data.Either (line 0, column 0 - line 0, column 0): "+[e.constructor.name])}}},gn={apply:function(n){return function(e){if(n instanceof wn)return new wn(n.value0);if(n instanceof pn)return f(hn)(n.value0)(e);throw new Error("Failed pattern match at Data.Either (line 70, column 1 - line 72, column 30): "+[n.constructor.name,e.constructor.name])}},Functor0:function(){return hn}},En={bind:function(n){return function(e){return function(u){if(u instanceof wn)return n(u.value0);if(u instanceof pn)return e(u.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[n.constructor.name,e.constructor.name,u.constructor.name])}}}((function(n){return function(e){return new wn(n)}}))((function(n){return function(e){return e(n)}})),Apply0:function(){return gn}},yn=function(){return{pure:pn.create,Apply0:function(){return gn}}}(),Fn={Applicative0:function(){return yn},Bind1:function(){return En}},Mn={Ring0:function(){return N}},Sn=function(n){return n.mod},bn={degree:function(n){return Math.min(Math.abs(n),2147483647)},div:function(n){return function(e){return 0===e?0:e>0?Math.floor(n/e):-Math.floor(n/-e)}},mod:function(n){return function(e){if(0===e)return 0;var u=Math.abs(e);return(n%u+u)%u}},CommutativeRing0:function(){return Mn}},Dn=function(n){return n.div},An={mempty:"",Semigroup0:function(){return s}},Tn=function(n){return n.mempty},In=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(u){return new n(e,u)}},n}(),Cn=function(n){return n.value1},Rn=function(n){return function(e){return{show:function(u){return"(Tuple "+nn(n)(u.value0)+" "+nn(e)(u.value1)+")"}}}},xn=function(n){return n.value0},Pn=function(n){return function(e){return function(u){return function(t){return function(r){return function(a){for(var o=[],i=a;;){var c=r(i);if(n(c))return o;var f=e(c);o.push(u(f)),i=t(f)}}}}}}},On=function(){function n(n){return[n]}function e(n){return function(e){return[n,e]}}function u(n){return function(e){return function(u){return[n,e,u]}}}function t(n){return function(e){return n.concat(e)}}return function(r){return function(a){return function(o){return function(i){return function(c){return function f(l,v){switch(v-l){case 0:return o([]);case 1:return a(n)(i(c[l]));case 2:return r(a(e)(i(c[l])))(i(c[l+1]));case 3:return r(r(a(u)(i(c[l])))(i(c[l+1])))(i(c[l+2]));default:var s=l+2*Math.floor((v-l)/4);return r(a(t)(f(l,s)))(f(s,v))}}(0,c.length)}}}}}}(),zn={bimap:function(n){return function(e){return function(u){if(u instanceof wn)return new wn(n(u.value0));if(u instanceof pn)return new pn(e(u.value0));throw new Error("Failed pattern match at Data.Bifunctor (line 32, column 1 - line 34, column 36): "+[n.constructor.name,e.constructor.name,u.constructor.name])}}}},Ln=function(n){return n},Nn=function(){return Ln},Bn=Nn,Wn=function(){return function(){return function(n){return Nn()}}},Hn=function(n){return n.foldr},qn=function(n){return function(e){return function(u){return Hn(e)((a=n.Apply0(),c=function(n){return function(e){return p(a)(f(a.Functor0())(o(t(r)))(n))(e)}},function(n){return c(u(n))}))(d(n)(i));var a,c}}},Un=function(n){return n.foldl},Vn={foldr:function(n){return function(e){return function(u){for(var t=e,r=u.length-1;r>=0;r--)t=n(u[r])(t);return t}}},foldl:function(n){return function(e){return function(u){for(var t=e,r=u.length,a=0;a<r;a++)t=n(t)(u[a]);return t}}},foldMap:function(n){return(e=Vn,function(n){return function(u){return Hn(e)((function(e){return function(t){return w(n.Semigroup0())(u(e))(t)}}))(Tn(n))}})(n);var e}},kn=function(n){return n.foldMap},jn=function(n){return n.traverse},Yn={traverse:function(n){return On(p(n.Apply0()))(f(n.Apply0().Functor0()))(d(n))},sequence:function(n){return(e=Yn,function(n){return jn(e)(n)(t(r))})(n);var e},Functor0:function(){return l},Foldable1:function(){return Vn}},Gn={unfoldr1:function(n){return function(e){return function(u){return function(t){return function(r){return function(a){for(var o=[],i=a;;){var c=r(i);o.push(u(c));var f=t(c);if(n(f))return o;i=e(f)}}}}}}}(on)(cn())(xn)(Cn)},Zn={unfoldr:Pn(on)(cn())(xn)(Cn),Unfoldable10:function(){return Gn}},_n=function(n){return n.toEnum},Xn=function(n){return n.fromEnum},Jn=function(n){return function(e){return function(u){return n(e(u)-1|0)}}},Kn=function(n){return n>=Y(k)&&n<=V(k)?new rn((e=n,String.fromCharCode(e))):tn.value;var e},Qn={succ:function(n){return function(e){return function(u){return n(e(u)+1|0)}}}(Kn)(mn),pred:Jn(Kn)(mn),Ord0:function(){return q}},$n=function(){return{cardinality:mn(V(j))-mn(Y(j))|0,toEnum:Kn,fromEnum:mn,Bounded0:function(){return j},Enum1:function(){return Qn}}}(),ne=function(n,e,u){var t,r=0;return function(a){if(2===r)return t;if(1===r)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,t=u(),r=2,t}},ee=function(){function n(){}return n.value=new n,n}(),ue=function(){function n(){}return n.value=new n,n}(),te=function(){function n(){}return n.value=new n,n}(),re=function(){function n(){}return n.value=new n,n}(),ae=function(){function n(){}return n.value=new n,n}(),oe=function(){function n(){}return n.value=new n,n}(),ie=function(){function n(){}return n.value=new n,n}(),ce=function(){function n(){}return n.value=new n,n}(),fe=function(){function n(){}return n.value=new n,n}(),le=function(){function n(){}return n.value=new n,n}(),ve=function(){function n(){}return n.value=new n,n}(),se=function(){function n(){}return n.value=new n,n}(),me=H,we=H,pe={eq:function(n){return function(e){return n instanceof ee&&e instanceof ee||n instanceof ue&&e instanceof ue||n instanceof te&&e instanceof te||n instanceof re&&e instanceof re||n instanceof ae&&e instanceof ae||n instanceof oe&&e instanceof oe||n instanceof ie&&e instanceof ie||n instanceof ce&&e instanceof ce||n instanceof fe&&e instanceof fe||n instanceof le&&e instanceof le||n instanceof ve&&e instanceof ve||n instanceof se&&e instanceof se}}},de={compare:function(n){return function(e){if(n instanceof ee&&e instanceof ee)return R.value;if(n instanceof ee)return I.value;if(e instanceof ee)return C.value;if(n instanceof ue&&e instanceof ue)return R.value;if(n instanceof ue)return I.value;if(e instanceof ue)return C.value;if(n instanceof te&&e instanceof te)return R.value;if(n instanceof te)return I.value;if(e instanceof te)return C.value;if(n instanceof re&&e instanceof re)return R.value;if(n instanceof re)return I.value;if(e instanceof re)return C.value;if(n instanceof ae&&e instanceof ae)return R.value;if(n instanceof ae)return I.value;if(e instanceof ae)return C.value;if(n instanceof oe&&e instanceof oe)return R.value;if(n instanceof oe)return I.value;if(e instanceof oe)return C.value;if(n instanceof ie&&e instanceof ie)return R.value;if(n instanceof ie)return I.value;if(e instanceof ie)return C.value;if(n instanceof ce&&e instanceof ce)return R.value;if(n instanceof ce)return I.value;if(e instanceof ce)return C.value;if(n instanceof fe&&e instanceof fe)return R.value;if(n instanceof fe)return I.value;if(e instanceof fe)return C.value;if(n instanceof le&&e instanceof le)return R.value;if(n instanceof le)return I.value;if(e instanceof le)return C.value;if(n instanceof ve&&e instanceof ve)return R.value;if(n instanceof ve)return I.value;if(e instanceof ve)return C.value;if(n instanceof se&&e instanceof se)return R.value;throw new Error("Failed pattern match at Data.Date.Component (line 0, column 0 - line 0, column 0): "+[n.constructor.name,e.constructor.name])}},Eq0:function(){return pe}},he=function(){return{bottom:-271820,top:275759,Ord0:function(){return me}}}(),ge=function(){return{bottom:ee.value,top:se.value,Ord0:function(){return de}}}(),Ee={cardinality:547580,toEnum:function(n){return n>=-271820&&n<=275759?new rn(n):tn.value},fromEnum:function(n){return n},Bounded0:function(){return he},Enum1:function(){return ye(0)}},ye=ne("enumYear","Data.Date.Component",(function(){return{succ:(u=_n(Ee),t=Xn(Ee),function(n){return u(t(n)+1|0)}),pred:(n=_n(Ee),e=Xn(Ee),function(u){return n(e(u)-1|0)}),Ord0:function(){return me}};var n,e,u,t})),Fe={cardinality:12,toEnum:function(n){return 1===n?new rn(ee.value):2===n?new rn(ue.value):3===n?new rn(te.value):4===n?new rn(re.value):5===n?new rn(ae.value):6===n?new rn(oe.value):7===n?new rn(ie.value):8===n?new rn(ce.value):9===n?new rn(fe.value):10===n?new rn(le.value):11===n?new rn(ve.value):12===n?new rn(se.value):tn.value},fromEnum:function(n){if(n instanceof ee)return 1;if(n instanceof ue)return 2;if(n instanceof te)return 3;if(n instanceof re)return 4;if(n instanceof ae)return 5;if(n instanceof oe)return 6;if(n instanceof ie)return 7;if(n instanceof ce)return 8;if(n instanceof fe)return 9;if(n instanceof le)return 10;if(n instanceof ve)return 11;if(n instanceof se)return 12;throw new Error("Failed pattern match at Data.Date.Component (line 87, column 14 - line 99, column 19): "+[n.constructor.name])},Bounded0:function(){return ge},Enum1:function(){return Me(0)}},Me=ne("enumMonth","Data.Date.Component",(function(){return{succ:(u=_n(Fe),t=Xn(Fe),function(n){return u(t(n)+1|0)}),pred:(n=_n(Fe),e=Xn(Fe),function(u){return n(e(u)-1|0)}),Ord0:function(){return de}};var n,e,u,t})),Se={bottom:1,top:31,Ord0:function(){return we}},be={cardinality:31,toEnum:function(n){return n>=1&&n<=31?new rn(n):tn.value},fromEnum:function(n){return n},Bounded0:function(){return Se},Enum1:function(){return De(0)}},De=ne("enumDay","Data.Date.Component",(function(){return{succ:(u=_n(be),t=Xn(be),function(n){return u(t(n)+1|0)}),pred:(n=_n(be),e=Xn(be),function(u){return n(e(u)-1|0)}),Ord0:function(){return we}};var n,e,u,t})),Ae=isFinite,Te=Math.floor,Ie=Math.sin,Ce=3.141592653589793,Re=function(){return(n=rn.create,function(e){return function(u){return(0|u)===u?n(u):e}})(tn.value);var n}(),xe=function(n){return n},Pe=function(n){return n},Oe={fromDuration:Wn()()(xe)((function(n){return 1e3*n})),toDuration:Wn()()(Pe)((function(n){return n/1e3}))},ze={fromDuration:t(r),toDuration:t(r)},Le=function(){function n(n,e,u){this.value0=n,this.value1=e,this.value2=u}return n.create=function(e){return function(u){return function(t){return new n(e,u,t)}}},n}(),Ne=function(n){return n.value0},Be=function(n){return n.value1},We=function(n){return n.value2},He=function(n,e,u){var t,r=0;return function(a){if(2===r)return t;if(1===r)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,t=u(),r=2,t}},qe=H,Ue=H,Ve=H,ke=H,je={bottom:0,top:59,Ord0:function(){return qe}},Ye={bottom:0,top:59,Ord0:function(){return Ue}},Ge={bottom:0,top:999,Ord0:function(){return Ve}},Ze={bottom:0,top:23,Ord0:function(){return ke}},_e={cardinality:60,toEnum:function(n){return n>=0&&n<=59?new rn(n):tn.value},fromEnum:function(n){return n},Bounded0:function(){return je},Enum1:function(){return Xe(0)}},Xe=He("enumSecond","Data.Time.Component",(function(){return{succ:(u=_n(_e),t=Xn(_e),function(n){return u(t(n)+1|0)}),pred:(n=_n(_e),e=Xn(_e),function(u){return n(e(u)-1|0)}),Ord0:function(){return qe}};var n,e,u,t})),Je={cardinality:60,toEnum:function(n){return n>=0&&n<=59?new rn(n):tn.value},fromEnum:function(n){return n},Bounded0:function(){return Ye},Enum1:function(){return Ke(0)}},Ke=He("enumMinute","Data.Time.Component",(function(){return{succ:(u=_n(Je),t=Xn(Je),function(n){return u(t(n)+1|0)}),pred:(n=_n(Je),e=Xn(Je),function(u){return n(e(u)-1|0)}),Ord0:function(){return Ue}};var n,e,u,t})),Qe={cardinality:1e3,toEnum:function(n){return n>=0&&n<=999?new rn(n):tn.value},fromEnum:function(n){return n},Bounded0:function(){return Ge},Enum1:function(){return $e(0)}},$e=He("enumMillisecond","Data.Time.Component",(function(){return{succ:(u=_n(Qe),t=Xn(Qe),function(n){return u(t(n)+1|0)}),pred:(n=_n(Qe),e=Xn(Qe),function(u){return n(e(u)-1|0)}),Ord0:function(){return Ve}};var n,e,u,t})),nu={cardinality:24,toEnum:function(n){return n>=0&&n<=23?new rn(n):tn.value},fromEnum:function(n){return n},Bounded0:function(){return Ze},Enum1:function(){return eu(0)}},eu=He("enumHour","Data.Time.Component",(function(){return{succ:(u=_n(nu),t=Xn(nu),function(n){return u(t(n)+1|0)}),pred:(n=_n(nu),e=Xn(nu),function(u){return n(e(u)-1|0)}),Ord0:function(){return ke}};var n,e,u,t})),uu=function(){function n(n,e,u,t){this.value0=n,this.value1=e,this.value2=u,this.value3=t}return n.create=function(e){return function(u){return function(t){return function(r){return new n(e,u,t,r)}}}},n}(),tu=function(n){return n.value2},ru=function(n){return n.value1},au=function(n){return n.value3},ou=function(n){return n.value0},iu=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(u){return new n(e,u)}},n}(),cu=function(n){return{year:Xn(Ee)(Ne(n.value0)),month:Xn(Fe)(Be(n.value0)),day:Xn(be)(We(n.value0)),hour:Xn(nu)(ou(n.value1)),minute:Xn(Je)(ru(n.value1)),second:Xn(_e)(tu(n.value1)),millisecond:Xn(Qe)(au(n.value1))}},fu=function(n){return function(e){return function(u){return n.toDuration((t=cu(e),r=cu(u),fn(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond)-fn(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond)));var t,r}}},lu=function(){var n;return n=function(n){return function(e){return function(u){return function(t){return function(r){return function(a){return function(o){return new iu(function(n){return function(e){return function(u){return function(n,e,u,t){var r=function(n,e,u){var t=new Date(Date.UTC(n,e,u));return n>=0&&n<100&&t.setUTCFullYear(n),t}(e,u-1,t);return n(r.getUTCFullYear())(r.getUTCMonth()+1)(r.getUTCDate())}((function(n){return function(e){return function(u){return new Le(n,cn()(_n(Fe)(e)),u)}}}),n,Xn(Fe)(e),u)}}}(n)(cn()(_n(Fe)(e)))(u),new uu(t,r,a,o))}}}}}}},function(e){var u=new Date(e);return n(u.getUTCFullYear())(u.getUTCMonth()+1)(u.getUTCDate())(u.getUTCHours())(u.getUTCMinutes())(u.getUTCSeconds())(u.getUTCMilliseconds())}}(),vu=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(u){return new n(e,u)}},n}(),su=function(n){return function(e){return function(u){return function(t){var r,a=(r=n.Eq0(),function(n){return function(e){return function(u){var t,a=r,o=n,i=e,c=!1;function f(n,e,t,r){if(n.eq(r)(x(e.CommutativeRing0().Ring0().Semiring0())))return c=!0,t;a=n,o=e,i=r,u=Sn(e)(t)(r)}for(;!c;)t=f(a,o,i,u);return t}}})(e)(u)(t),o=Dn(e)(t)(a);return new vu(z(e.CommutativeRing0().Ring0().Semiring0())(Dn(e)(u)(a))(function(n){return function(e){return function(u){var t=function(n){return function(e){return function(u){return U(n)(e)(u)instanceof I}}}(n)(u)(x(e.Semiring0()));if(t)return B(e)(O(e.Semiring0()));var r=function(n){return function(e){return function(u){return U(n)(e)(u)instanceof C}}}(n)(u)(x(e.Semiring0()));return r?O(e.Semiring0()):u}}}(n)(e.CommutativeRing0().Ring0())(o)),function(n){return function(e){return function(u){var t=function(n){return function(e){return function(u){return!(U(n)(e)(u)instanceof I)}}}(n)(u)(x(e.Semiring0()));return t?u:B(e)(u)}}}(n)(e.CommutativeRing0().Ring0())(o))}}}},mu=function(n){return n.value0/n.value1};function wu(){return Date.now()}var pu=function(n){return function(e){return function(u){return vn(n.Bind1())(e)((function(e){return vn(n.Bind1())(u)((function(u){return d(n.Applicative0())(e(u))}))}))}}},du=function(n,e,u){var t,r=0;return function(a){if(2===r)return t;if(1===r)throw new ReferenceError(n+" was needed before it finished initializing (module "+e+", line "+a+")",e,a);return r=1,t=u(),r=2,t}},hu={Applicative0:function(){return Eu},Bind1:function(){return gu}},gu={bind:function(n){return function(e){return function(){return e(n())()}}},Apply0:function(){return Fu(0)}},Eu={pure:function(n){return function(){return n}},Apply0:function(){return Fu(0)}},yu=du("functorEffect","Effect",(function(){return{map:(n=Eu,function(e){return function(u){return p(n.Apply0())(d(n)(e))(u)}})};var n})),Fu=du("applyEffect","Effect",(function(){return{apply:pu(hu),Functor0:function(){return yu(0)}}})),Mu=yu(20),Su=f(Mu)(lu)(wu),bu=function(n){return function(){return n.value}},Du=function(n){return function(e){return function(){e.value=n}}},Au=function(n){return function(){return{value:n}}},Tu=function(n){return n.ask},Iu=function(n){return n.throwError},Cu=function(){return{throwError:wn.create,Monad0:function(){return Fn}}}(),Ru=function(n){return n.state},xu=function(n){return function(e){return Ru(n)((function(n){return new In(i,e)}))}},Pu=function(n){return function(e){return Ru(n)((function(n){return new In(i,e(n))}))}},Ou=function(n){return function(e){return Ru(n)((function(n){var u=e(n);return new In(u,u)}))}},zu=function(n){return Ru(n)((function(n){return new In(n,n)}))},Lu=function(n){return n.lift},Nu={liftEffect:t(r),Monad0:function(){return hu}},Bu=function(n){return n.liftEffect},Wu={lift:function(n){return function(n){return o(n)}}},Hu=function(n){return{map:(e=f(n),function(n){return u=e(n),function(n){return function(e){return u(n(e))}};var u})};var e},qu=function(n){return{apply:function(e){return function(u){return function(t){return p(n)(e(t))(u(t))}}},Functor0:function(){return Hu(n.Functor0())}}},Uu=function(n){return{Applicative0:function(){return e=n.Applicative0(),{pure:(u=d(e),function(n){return o(u(n))}),Apply0:function(){return qu(e.Apply0())}};var e,u},Bind1:function(){return e=n.Bind1(),{bind:function(n){return function(u){return function(t){return vn(e)(n(t))((function(n){return u(n)(t)}))}}},Apply0:function(){return qu(e.Apply0())}};var e}}},Vu=function(n){return{ask:d(n.Applicative0()),Monad0:function(){return Uu(n)}}},ku=function(n){return{liftEffect:(e=Lu(Wu)(n.Monad0()),u=Bu(n),function(n){return e(u(n))}),Monad0:function(){return Uu(n.Monad0())}};var e,u},ju={lift:function(n){return function(e){return function(u){return vn(n.Bind1())(e)((function(e){return d(n.Applicative0())(new In(e,u))}))}}}},Yu=function(n){return{Applicative0:function(){return _u(n)},Bind1:function(){return Gu(n)}}},Gu=function(n){return{bind:function(e){return function(u){return function(t){return vn(n.Bind1())(e(t))((function(n){return u(n.value0)(n.value1)}))}}},Apply0:function(){return Zu(n)}}},Zu=function(n){return{apply:pu(Yu(n)),Functor0:function(){return e=n.Bind1().Apply0().Functor0(),{map:function(n){return function(u){return function(t){return f(e)((function(e){return new In(n(e.value0),e.value1)}))(u(t))}}}};var e}}},_u=function(n){return{pure:function(e){return function(u){return d(n.Applicative0())(new In(e,u))}},Apply0:function(){return Zu(n)}}},Xu=function(n){return{ask:Lu(ju)(n.Monad0())(Tu(n)),Monad0:function(){return Yu(n.Monad0())}}},Ju=function(n){return{liftEffect:(e=Lu(ju)(n.Monad0()),u=Bu(n),function(n){return e(u(n))}),Monad0:function(){return Yu(n.Monad0())}};var e,u},Ku=function(n){return{state:function(e){var u=d(n.Applicative0());return function(n){return u(e(n))}},Monad0:function(){return Yu(n)}}},Qu=function(n){return{throwError:function(e){return Lu(ju)(n.Monad0())(Iu(n)(e))},Monad0:function(){return Yu(n.Monad0())}}},$u=(Array.prototype.fill,function(n){return n.length}),nt=function(n){return function(e){return function(u){return u.slice(n,e)}}},et=function(n){return function(e){return n<1?[]:nt(0)(n)(e)}},ut=function(n){return function(e){return(t=[e],u=function(n){return function(){return n.push.apply(n,t)}},function(n){return function(){var e=function(n){return function(){return n.slice()}}(n)();return u(e)(),function(n){return function(){return n}}(e)()}})(n)();var u,t}},tt=function(){return(n=rn.create,function(e){return function(u){return function(t){return function(r){if(u<0||u>r.length)return e;var a=r.slice();return a.splice(u,0,t),n(a)}}}})(tn.value);var n}(),rt=function(){return(n=rn.create,function(e){return function(u){return function(t){return t<0||t>=u.length?e:n(u[t])}}})(tn.value);var n}(),at=function(n){return function(e){return n<1?e:nt(n)($u(e))(e)}},ot=function(n){return function(){console.log(n)}},it=function(n){return function(e){return function(){var u=bu(n)();if(u instanceof rn)return e(u.value0)();if(u instanceof tn)return i;throw new Error("Failed pattern match at MaybeRef (line 14, column 3 - line 16, column 25): "+[u.constructor.name])}}},ct=function(n){return n.mapWithIndex},ft={mapWithIndex:function(n){return function(e){for(var u=e.length,t=Array(u),r=0;r<u;r++)t[r]=n(r)(e[r]);return t}},Functor0:function(){return l}},lt=function(n){return n.foldrWithIndex},vt=function(n){return n.foldlWithIndex},st={foldrWithIndex:function(n){return function(e){var u=Hn(Vn)((function(e){return function(u){return n(e.value0)(e.value1)(u)}}))(e),t=ct(ft)(In.create);return function(n){return u(t(n))}}},foldlWithIndex:function(n){return function(e){var u=Un(Vn)((function(e){return function(u){return n(u.value0)(e)(u.value1)}}))(e),t=ct(ft)(In.create);return function(n){return u(t(n))}}},foldMapWithIndex:function(n){return(e=st,function(n){return function(u){return lt(e)((function(e){return function(t){return function(r){return w(n.Semigroup0())(u(e)(t))(r)}}}))(Tn(n))}})(n);var e},Foldable0:function(){return Vn}},mt=function(n){return n.foldMapWithIndex},wt=function(n){return n.traverseWithIndex},pt={traverseWithIndex:function(n){return(e=pt,function(n){return function(u){var t=e.Traversable2().sequence(n),r=ct(e.FunctorWithIndex0())(u);return function(n){return t(r(n))}}})(n);var e},FunctorWithIndex0:function(){return ft},FoldableWithIndex1:function(){return st},Traversable2:function(){return Yn}},dt=function(){function n(){}return n.value=new n,n}(),ht=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(u){return new n(e,u)}},n}(),gt={map:function(n){var e;return e=dt.value,function(u){var t,r=e,a=!1;function o(e,t){return t instanceof ht&&t.value1 instanceof ht&&t.value1.value1 instanceof ht?(r=new ht(t,e),void(u=t.value1.value1.value1)):(a=!0,(i=e,function(e){for(var u,t,r,a=i,o=!1;!o;)r=e,u=(t=a)instanceof ht&&t.value0 instanceof ht&&t.value0.value1 instanceof ht&&t.value0.value1.value1 instanceof ht?(a=t.value1,void(e=new ht(n(t.value0.value0),new ht(n(t.value0.value1.value0),new ht(n(t.value0.value1.value1.value0),r))))):(o=!0,r);return u})((o=t)instanceof ht&&o.value1 instanceof ht&&o.value1.value1 instanceof dt?new ht(n(o.value0),new ht(n(o.value1.value0),dt.value)):o instanceof ht&&o.value1 instanceof dt?new ht(n(o.value0),dt.value):dt.value));var o,i}for(;!a;)t=o(r,u);return t}}},Et={foldr:function(n){return function(e){var u,t=(u=dt.value,function(n){var e,t=u,r=!1;function a(e,u){if(u instanceof dt)return r=!0,e;if(u instanceof ht)return t=new ht(u.value0,e),void(n=u.value1);throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): "+[e.constructor.name,u.constructor.name])}for(;!r;)e=a(t,n);return e}),r=Un(Et)(a(n))(e);return function(n){return r(t(n))}}},foldl:function(n){return function(e){return function(u){var t,r=e,a=!1;function o(e,t){if(t instanceof dt)return a=!0,e;if(t instanceof ht)return r=n(e)(t.value0),void(u=t.value1);throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): "+[t.constructor.name])}for(;!a;)t=o(r,u);return t}}},foldMap:function(n){return function(e){return Un(Et)((function(u){var t=w(n.Semigroup0())(u);return function(n){return t(e(n))}}))(Tn(n))}}},yt=function(n){return{show:function(e){return e instanceof dt?"Nil":"("+(u=Et,function(n){return function(e){return function(t){return Un(u)((function(u){return function(t){return u.init?{init:!1,acc:t}:{init:!1,acc:w(n.Semigroup0())(u.acc)(w(n.Semigroup0())(e)(t))}}}))({init:!0,acc:Tn(n)})(t).acc}}})(An)(" : ")(f(gt)(nn(n))(e))+" : Nil)";var u}}},Ft={traverse:function(n){return function(e){var u=f(n.Apply0().Functor0())(Un(Et)(a(ht.create))(dt.value)),t=Un(Et)((function(u){var t,r=(t=n.Apply0(),function(n){return function(e){return function(u){return p(t)(f(t.Functor0())(n)(e))(u)}}})(a(ht.create))(u);return function(n){return r(e(n))}}))(d(n)(dt.value));return function(n){return u(t(n))}}},sequence:function(n){return jn(Ft)(n)(t(r))},Functor0:function(){return gt},Foldable1:function(){return Et}},Mt=function(n){return e=function(){return function(n){throw new Error(n)}(n)},e();var e},St=function(){function n(){}return n.value=new n,n}(),bt=function(){function n(n,e,u,t){this.value0=n,this.value1=e,this.value2=u,this.value3=t}return n.create=function(e){return function(u){return function(t){return function(r){return new n(e,u,t,r)}}}},n}(),Dt=function(){function n(n,e,u,t,r,a,o){this.value0=n,this.value1=e,this.value2=u,this.value3=t,this.value4=r,this.value5=a,this.value6=o}return n.create=function(e){return function(u){return function(t){return function(r){return function(a){return function(o){return function(i){return new n(e,u,t,r,a,o,i)}}}}}}},n}(),At=function(){function n(n,e,u){this.value0=n,this.value1=e,this.value2=u}return n.create=function(e){return function(u){return function(t){return new n(e,u,t)}}},n}(),Tt=function(){function n(n,e,u){this.value0=n,this.value1=e,this.value2=u}return n.create=function(e){return function(u){return function(t){return new n(e,u,t)}}},n}(),It=function(){function n(n,e,u,t,r,a){this.value0=n,this.value1=e,this.value2=u,this.value3=t,this.value4=r,this.value5=a}return n.create=function(e){return function(u){return function(t){return function(r){return function(a){return function(o){return new n(e,u,t,r,a,o)}}}}}},n}(),Ct=function(){function n(n,e,u,t,r,a){this.value0=n,this.value1=e,this.value2=u,this.value3=t,this.value4=r,this.value5=a}return n.create=function(e){return function(u){return function(t){return function(r){return function(a){return function(o){return new n(e,u,t,r,a,o)}}}}}},n}(),Rt=function(){function n(n,e,u,t,r,a){this.value0=n,this.value1=e,this.value2=u,this.value3=t,this.value4=r,this.value5=a}return n.create=function(e){return function(u){return function(t){return function(r){return function(a){return function(o){return new n(e,u,t,r,a,o)}}}}}},n}(),xt=function(){function n(n,e,u,t){this.value0=n,this.value1=e,this.value2=u,this.value3=t}return n.create=function(e){return function(u){return function(t){return function(r){return new n(e,u,t,r)}}}},n}(),Pt=function(n){if(n instanceof St)return 0;if(n instanceof bt)return(1+Pt(n.value0)|0)+Pt(n.value3)|0;if(n instanceof Dt)return((2+Pt(n.value0)|0)+Pt(n.value3)|0)+Pt(n.value6)|0;throw new Error("Failed pattern match at Data.Map.Internal (line 705, column 1 - line 705, column 35): "+[n.constructor.name])},Ot=function(n){return function(e){return new bt(St.value,n,e,St.value)}},zt=function(n){return function(e){return n.unfoldr((function(n){var e,u=!1;function t(e){if(e instanceof dt)return u=!0,tn.value;if(e instanceof ht){if(e.value0 instanceof St)return void(n=e.value1);if(e.value0 instanceof bt&&e.value0.value0 instanceof St&&e.value0.value3 instanceof St)return u=!0,new rn(new In(new In(e.value0.value1,e.value0.value2),e.value1));if(e.value0 instanceof bt&&e.value0.value0 instanceof St)return u=!0,new rn(new In(new In(e.value0.value1,e.value0.value2),new ht(e.value0.value3,e.value1)));if(e.value0 instanceof bt)return void(n=new ht(e.value0.value0,new ht(Ot(e.value0.value1)(e.value0.value2),new ht(e.value0.value3,e.value1))));if(e.value0 instanceof Dt)return void(n=new ht(e.value0.value0,new ht(Ot(e.value0.value1)(e.value0.value2),new ht(e.value0.value3,new ht(Ot(e.value0.value4)(e.value0.value5),new ht(e.value0.value6,e.value1))))));throw new Error("Failed pattern match at Data.Map.Internal (line 624, column 18 - line 633, column 71): "+[e.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 623, column 3 - line 623, column 19): "+[e.constructor.name])}for(;!u;)e=t(n);return e}))(new ht(e,dt.value))}}(Zn),Lt=function(n){return function(e){return{show:function(u){return"(fromFoldable "+nn(en(Rn(n)(e)))(zt(u))+")"}}}},Nt=function(n){return function(e){var u=U(n);return function(n){var t,r=!1;function a(t){if(t instanceof St)return r=!0,tn.value;if(t instanceof bt){var a=u(e)(t.value1);return a instanceof R?(r=!0,new rn(t.value2)):a instanceof I?void(n=t.value0):void(n=t.value3)}if(t instanceof Dt){var o=u(e)(t.value1);if(o instanceof R)return r=!0,new rn(t.value2);var i=u(e)(t.value4);return i instanceof R?(r=!0,new rn(t.value5)):o instanceof I?void(n=t.value0):i instanceof C?void(n=t.value6):void(n=t.value3)}throw new Error("Failed pattern match at Data.Map.Internal (line 241, column 5 - line 241, column 22): "+[t.constructor.name])}for(;!r;)t=a(n);return t}}},Bt=function(n){return function(e){return function(u){var t,r=n,a=e,o=!1;function i(n,e,t){if(e instanceof dt)return o=!0,t;if(e instanceof ht){if(e.value0 instanceof At)return r=n,a=e.value1,void(u=new bt(t,e.value0.value0,e.value0.value1,e.value0.value2));if(e.value0 instanceof Tt)return r=n,a=e.value1,void(u=new bt(e.value0.value0,e.value0.value1,e.value0.value2,t));if(e.value0 instanceof It)return r=n,a=e.value1,void(u=new Dt(t,e.value0.value0,e.value0.value1,e.value0.value2,e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof Ct)return r=n,a=e.value1,void(u=new Dt(e.value0.value0,e.value0.value1,e.value0.value2,t,e.value0.value3,e.value0.value4,e.value0.value5));if(e.value0 instanceof Rt)return r=n,a=e.value1,void(u=new Dt(e.value0.value0,e.value0.value1,e.value0.value2,e.value0.value3,e.value0.value4,e.value0.value5,t));throw new Error("Failed pattern match at Data.Map.Internal (line 462, column 3 - line 467, column 88): "+[e.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 459, column 1 - line 459, column 80): "+[e.constructor.name,t.constructor.name])}for(;!o;)t=i(r,a,u);return t}}},Wt=function(n){return function(e){return function(u){var t,r=U(n);return t=dt.value,function(a){var o,i=t,c=!1;function f(t,o){if(o instanceof St)return c=!0,function(e){return function(u){var t,r=e,a=!1;function o(e,t){if(e instanceof dt)return a=!0,new bt(t.value0,t.value1,t.value2,t.value3);if(e instanceof ht){if(e.value0 instanceof At)return a=!0,Bt(n)(e.value1)(new Dt(t.value0,t.value1,t.value2,t.value3,e.value0.value0,e.value0.value1,e.value0.value2));if(e.value0 instanceof Tt)return a=!0,Bt(n)(e.value1)(new Dt(e.value0.value0,e.value0.value1,e.value0.value2,t.value0,t.value1,t.value2,t.value3));if(e.value0 instanceof It)return r=e.value1,void(u=new xt(new bt(t.value0,t.value1,t.value2,t.value3),e.value0.value0,e.value0.value1,new bt(e.value0.value2,e.value0.value3,e.value0.value4,e.value0.value5)));if(e.value0 instanceof Ct)return r=e.value1,void(u=new xt(new bt(e.value0.value0,e.value0.value1,e.value0.value2,t.value0),t.value1,t.value2,new bt(t.value3,e.value0.value3,e.value0.value4,e.value0.value5)));if(e.value0 instanceof Rt)return r=e.value1,void(u=new xt(new bt(e.value0.value0,e.value0.value1,e.value0.value2,e.value0.value3),e.value0.value4,e.value0.value5,new bt(t.value0,t.value1,t.value2,t.value3)));throw new Error("Failed pattern match at Data.Map.Internal (line 498, column 5 - line 503, column 108): "+[e.value0.constructor.name,t.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 495, column 3 - line 495, column 56): "+[e.constructor.name,t.constructor.name])}for(;!a;)t=o(r,u);return t}}(t)(new xt(St.value,e,u,St.value));if(o instanceof bt){var f=r(e)(o.value1);return f instanceof R?(c=!0,Bt(n)(t)(new bt(o.value0,e,u,o.value3))):f instanceof I?(i=new ht(new At(o.value1,o.value2,o.value3),t),void(a=o.value0)):(i=new ht(new Tt(o.value0,o.value1,o.value2),t),void(a=o.value3))}if(o instanceof Dt){var l=r(e)(o.value1);if(l instanceof R)return c=!0,Bt(n)(t)(new Dt(o.value0,e,u,o.value3,o.value4,o.value5,o.value6));var v=r(e)(o.value4);return v instanceof R?(c=!0,Bt(n)(t)(new Dt(o.value0,o.value1,o.value2,o.value3,e,u,o.value6))):l instanceof I?(i=new ht(new It(o.value1,o.value2,o.value3,o.value4,o.value5,o.value6),t),void(a=o.value0)):l instanceof C&&v instanceof I?(i=new ht(new Ct(o.value0,o.value1,o.value2,o.value4,o.value5,o.value6),t),void(a=o.value3)):(i=new ht(new Rt(o.value0,o.value1,o.value2,o.value3,o.value4,o.value5),t),void(a=o.value6))}throw new Error("Failed pattern match at Data.Map.Internal (line 478, column 3 - line 478, column 55): "+[t.constructor.name,o.constructor.name])}for(;!c;)o=f(i,a);return o}}}},Ht={foldr:function(n){return function(e){return function(u){if(u instanceof St)return e;if(u instanceof bt)return Hn(Ht)(n)(n(u.value2)(Hn(Ht)(n)(e)(u.value3)))(u.value0);if(u instanceof Dt)return Hn(Ht)(n)(n(u.value2)(Hn(Ht)(n)(n(u.value5)(Hn(Ht)(n)(e)(u.value6)))(u.value3)))(u.value0);throw new Error("Failed pattern match at Data.Map.Internal (line 133, column 17 - line 136, column 85): "+[u.constructor.name])}}},foldl:function(n){return function(e){return function(u){if(u instanceof St)return e;if(u instanceof bt)return Un(Ht)(n)(n(Un(Ht)(n)(e)(u.value0))(u.value2))(u.value3);if(u instanceof Dt)return Un(Ht)(n)(n(Un(Ht)(n)(n(Un(Ht)(n)(e)(u.value0))(u.value2))(u.value3))(u.value5))(u.value6);throw new Error("Failed pattern match at Data.Map.Internal (line 137, column 17 - line 140, column 85): "+[u.constructor.name])}}},foldMap:function(n){return function(e){return function(u){if(u instanceof St)return Tn(n);if(u instanceof bt)return w(n.Semigroup0())(kn(Ht)(n)(e)(u.value0))(w(n.Semigroup0())(e(u.value2))(kn(Ht)(n)(e)(u.value3)));if(u instanceof Dt)return w(n.Semigroup0())(kn(Ht)(n)(e)(u.value0))(w(n.Semigroup0())(e(u.value2))(w(n.Semigroup0())(kn(Ht)(n)(e)(u.value3))(w(n.Semigroup0())(e(u.value5))(kn(Ht)(n)(e)(u.value6)))));throw new Error("Failed pattern match at Data.Map.Internal (line 141, column 17 - line 144, column 93): "+[u.constructor.name])}}}},qt={foldrWithIndex:function(n){return function(e){return function(u){if(u instanceof St)return e;if(u instanceof bt)return lt(qt)(n)(n(u.value1)(u.value2)(lt(qt)(n)(e)(u.value3)))(u.value0);if(u instanceof Dt)return lt(qt)(n)(n(u.value1)(u.value2)(lt(qt)(n)(n(u.value4)(u.value5)(lt(qt)(n)(e)(u.value6)))(u.value3)))(u.value0);throw new Error("Failed pattern match at Data.Map.Internal (line 147, column 26 - line 150, column 120): "+[u.constructor.name])}}},foldlWithIndex:function(n){return function(e){return function(u){if(u instanceof St)return e;if(u instanceof bt)return vt(qt)(n)(n(u.value1)(vt(qt)(n)(e)(u.value0))(u.value2))(u.value3);if(u instanceof Dt)return vt(qt)(n)(n(u.value4)(vt(qt)(n)(n(u.value1)(vt(qt)(n)(e)(u.value0))(u.value2))(u.value3))(u.value5))(u.value6);throw new Error("Failed pattern match at Data.Map.Internal (line 151, column 26 - line 154, column 120): "+[u.constructor.name])}}},foldMapWithIndex:function(n){return function(e){return function(u){if(u instanceof St)return Tn(n);if(u instanceof bt)return w(n.Semigroup0())(mt(qt)(n)(e)(u.value0))(w(n.Semigroup0())(e(u.value1)(u.value2))(mt(qt)(n)(e)(u.value3)));if(u instanceof Dt)return w(n.Semigroup0())(mt(qt)(n)(e)(u.value0))(w(n.Semigroup0())(e(u.value1)(u.value2))(w(n.Semigroup0())(mt(qt)(n)(e)(u.value3))(w(n.Semigroup0())(e(u.value4)(u.value5))(mt(qt)(n)(e)(u.value6)))));throw new Error("Failed pattern match at Data.Map.Internal (line 155, column 26 - line 158, column 128): "+[u.constructor.name])}}},Foldable0:function(){return Ht}},Ut=function(){return St.value}(),Vt=function(n){return function(e){return Un(e)((function(e){return function(u){return Wt(n)(u.value0)(u.value1)(e)}}))(Ut)}},kt=function(n){return function(e){return function(u){return an(u)(Cn)(function(n){return function(e){var u,t=function(e){return function(u){var t,r=e,a=!1;function o(e,t){if(e instanceof dt)return a=!0,t;if(e instanceof ht)return e.value0 instanceof At&&e.value0.value2 instanceof St&&t instanceof St?(a=!0,Bt(n)(e.value1)(new bt(St.value,e.value0.value0,e.value0.value1,St.value))):e.value0 instanceof Tt&&e.value0.value0 instanceof St&&t instanceof St?(a=!0,Bt(n)(e.value1)(new bt(St.value,e.value0.value1,e.value0.value2,St.value))):e.value0 instanceof At&&e.value0.value2 instanceof bt?(r=e.value1,void(u=new Dt(t,e.value0.value0,e.value0.value1,e.value0.value2.value0,e.value0.value2.value1,e.value0.value2.value2,e.value0.value2.value3))):e.value0 instanceof Tt&&e.value0.value0 instanceof bt?(r=e.value1,void(u=new Dt(e.value0.value0.value0,e.value0.value0.value1,e.value0.value0.value2,e.value0.value0.value3,e.value0.value1,e.value0.value2,t))):e.value0 instanceof At&&e.value0.value2 instanceof Dt?(a=!0,Bt(n)(e.value1)(new bt(new bt(t,e.value0.value0,e.value0.value1,e.value0.value2.value0),e.value0.value2.value1,e.value0.value2.value2,new bt(e.value0.value2.value3,e.value0.value2.value4,e.value0.value2.value5,e.value0.value2.value6)))):e.value0 instanceof Tt&&e.value0.value0 instanceof Dt?(a=!0,Bt(n)(e.value1)(new bt(new bt(e.value0.value0.value0,e.value0.value0.value1,e.value0.value0.value2,e.value0.value0.value3),e.value0.value0.value4,e.value0.value0.value5,new bt(e.value0.value0.value6,e.value0.value1,e.value0.value2,t)))):e.value0 instanceof It&&e.value0.value2 instanceof St&&e.value0.value5 instanceof St&&t instanceof St?(a=!0,Bt(n)(e.value1)(new Dt(St.value,e.value0.value0,e.value0.value1,St.value,e.value0.value3,e.value0.value4,St.value))):e.value0 instanceof Ct&&e.value0.value0 instanceof St&&e.value0.value5 instanceof St&&t instanceof St?(a=!0,Bt(n)(e.value1)(new Dt(St.value,e.value0.value1,e.value0.value2,St.value,e.value0.value3,e.value0.value4,St.value))):e.value0 instanceof Rt&&e.value0.value0 instanceof St&&e.value0.value3 instanceof St&&t instanceof St?(a=!0,Bt(n)(e.value1)(new Dt(St.value,e.value0.value1,e.value0.value2,St.value,e.value0.value4,e.value0.value5,St.value))):e.value0 instanceof It&&e.value0.value2 instanceof bt?(a=!0,Bt(n)(e.value1)(new bt(new Dt(t,e.value0.value0,e.value0.value1,e.value0.value2.value0,e.value0.value2.value1,e.value0.value2.value2,e.value0.value2.value3),e.value0.value3,e.value0.value4,e.value0.value5))):e.value0 instanceof Ct&&e.value0.value0 instanceof bt?(a=!0,Bt(n)(e.value1)(new bt(new Dt(e.value0.value0.value0,e.value0.value0.value1,e.value0.value0.value2,e.value0.value0.value3,e.value0.value1,e.value0.value2,t),e.value0.value3,e.value0.value4,e.value0.value5))):e.value0 instanceof Ct&&e.value0.value5 instanceof bt?(a=!0,Bt(n)(e.value1)(new bt(e.value0.value0,e.value0.value1,e.value0.value2,new Dt(t,e.value0.value3,e.value0.value4,e.value0.value5.value0,e.value0.value5.value1,e.value0.value5.value2,e.value0.value5.value3)))):e.value0 instanceof Rt&&e.value0.value3 instanceof bt?(a=!0,Bt(n)(e.value1)(new bt(e.value0.value0,e.value0.value1,e.value0.value2,new Dt(e.value0.value3.value0,e.value0.value3.value1,e.value0.value3.value2,e.value0.value3.value3,e.value0.value4,e.value0.value5,t)))):e.value0 instanceof It&&e.value0.value2 instanceof Dt?(a=!0,Bt(n)(e.value1)(new Dt(new bt(t,e.value0.value0,e.value0.value1,e.value0.value2.value0),e.value0.value2.value1,e.value0.value2.value2,new bt(e.value0.value2.value3,e.value0.value2.value4,e.value0.value2.value5,e.value0.value2.value6),e.value0.value3,e.value0.value4,e.value0.value5))):e.value0 instanceof Ct&&e.value0.value0 instanceof Dt?(a=!0,Bt(n)(e.value1)(new Dt(new bt(e.value0.value0.value0,e.value0.value0.value1,e.value0.value0.value2,e.value0.value0.value3),e.value0.value0.value4,e.value0.value0.value5,new bt(e.value0.value0.value6,e.value0.value1,e.value0.value2,t),e.value0.value3,e.value0.value4,e.value0.value5))):e.value0 instanceof Ct&&e.value0.value5 instanceof Dt?(a=!0,Bt(n)(e.value1)(new Dt(e.value0.value0,e.value0.value1,e.value0.value2,new bt(t,e.value0.value3,e.value0.value4,e.value0.value5.value0),e.value0.value5.value1,e.value0.value5.value2,new bt(e.value0.value5.value3,e.value0.value5.value4,e.value0.value5.value5,e.value0.value5.value6)))):e.value0 instanceof Rt&&e.value0.value3 instanceof Dt?(a=!0,Bt(n)(e.value1)(new Dt(e.value0.value0,e.value0.value1,e.value0.value2,new bt(e.value0.value3.value0,e.value0.value3.value1,e.value0.value3.value2,e.value0.value3.value3),e.value0.value3.value4,e.value0.value3.value5,new bt(e.value0.value3.value6,e.value0.value4,e.value0.value5,t)))):(a=!0,Mt("The impossible happened in partial function `up`."));throw new Error("Failed pattern match at Data.Map.Internal (line 552, column 5 - line 573, column 86): "+[e.constructor.name])}for(;!a;)t=o(r,u);return t}},r=function(n){return function(e){for(var u,r,a,o=n,i=!1;!i;)r=o,u=(a=e)instanceof bt&&a.value0 instanceof St&&a.value3 instanceof St?(i=!0,t(r)(St.value)):a instanceof bt?(o=new ht(new Tt(a.value0,a.value1,a.value2),r),void(e=a.value3)):a instanceof Dt&&a.value0 instanceof St&&a.value3 instanceof St&&a.value6 instanceof St?(i=!0,t(new ht(new Tt(St.value,a.value1,a.value2),r))(St.value)):a instanceof Dt?(o=new ht(new Rt(a.value0,a.value1,a.value2,a.value3,a.value4,a.value5),r),void(e=a.value6)):(i=!0,Mt("The impossible happened in partial function `removeMaxNode`."));return u}},a=function(n){var e,u=!1;function t(e){if(e instanceof bt&&e.value3 instanceof St)return u=!0,{key:e.value1,value:e.value2};if(e instanceof bt)n=e.value3;else{if(e instanceof Dt&&e.value6 instanceof St)return u=!0,{key:e.value4,value:e.value5};if(!(e instanceof Dt))return u=!0,Mt("The impossible happened in partial function `maxNode`.");n=e.value6}}for(;!u;)e=t(n);return e},o=U(n);return u=dt.value,function(i){var c,f=u,l=!1;function v(u,c){if(c instanceof St)return l=!0,tn.value;if(c instanceof bt){var v=o(e)(c.value1);if(c.value3 instanceof St&&v instanceof R)return l=!0,new rn(new In(c.value2,t(u)(St.value)));if(v instanceof R){var s=a(c.value0);return l=!0,new rn(new In(c.value2,r(new ht(new At(s.key,s.value,c.value3),u))(c.value0)))}return v instanceof I?(f=new ht(new At(c.value1,c.value2,c.value3),u),void(i=c.value0)):(f=new ht(new Tt(c.value0,c.value1,c.value2),u),void(i=c.value3))}if(c instanceof Dt){var m=c.value0 instanceof St&&c.value3 instanceof St&&c.value6 instanceof St,w=(v=o(e)(c.value4),o(e)(c.value1));return m&&w instanceof R?(l=!0,new rn(new In(c.value2,Bt(n)(u)(new bt(St.value,c.value4,c.value5,St.value))))):m&&v instanceof R?(l=!0,new rn(new In(c.value5,Bt(n)(u)(new bt(St.value,c.value1,c.value2,St.value))))):w instanceof R?(s=a(c.value0),l=!0,new rn(new In(c.value2,r(new ht(new It(s.key,s.value,c.value3,c.value4,c.value5,c.value6),u))(c.value0)))):v instanceof R?(s=a(c.value3),l=!0,new rn(new In(c.value5,r(new ht(new Ct(c.value0,c.value1,c.value2,s.key,s.value,c.value6),u))(c.value3)))):w instanceof I?(f=new ht(new It(c.value1,c.value2,c.value3,c.value4,c.value5,c.value6),u),void(i=c.value0)):w instanceof C&&v instanceof I?(f=new ht(new Ct(c.value0,c.value1,c.value2,c.value4,c.value5,c.value6),u),void(i=c.value3)):(f=new ht(new Rt(c.value0,c.value1,c.value2,c.value3,c.value4,c.value5),u),void(i=c.value6))}throw new Error("Failed pattern match at Data.Map.Internal (line 525, column 16 - line 548, column 80): "+[c.constructor.name])}for(;!l;)c=v(f,i);return c}}}(n)(e)(u))}}},jt=function(n){return function(e){return n}},Yt=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),Gt=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),Zt=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),_t=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),Xt=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),Jt=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),Kt=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),Qt=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(u){return new n(e,u)}},n}(),$t=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(u){return new n(e,u)}},n}(),nr=function(){function n(){}return n.value=new n,n}(),er={show:function(n){if(n instanceof Yt)return"ValueNumber "+nn(K)(n.value0);if(n instanceof Gt)return"ValueString "+nn(Z)(n.value0);if(n instanceof Zt)return"ValueInt "+nn(Q)(n.value0);if(n instanceof _t)return"ValueBoolean "+nn($)(n.value0);if(n instanceof Xt)return"ValueVariable...";if(n instanceof Jt)return"ValueTransformer...";if(n instanceof Kt)return"ValueTransformer... ";if(n instanceof Qt)return"ValueDancer "+nn(Q)(n.value0)+" ("+nn(Lt(Z)(er))(n.value1)+")";if(n instanceof $t)return"ValueFloor "+nn(Q)(n.value0)+" ("+nn(Lt(Z)(er))(n.value1)+")";if(n instanceof nr)return"ValueCamera";throw new Error("Failed pattern match at Value (line 41, column 1 - line 51, column 35): "+[n.constructor.name])}},ur=function(n){return n instanceof Yt||n instanceof Zt?jt(n.value0):n instanceof _t&&n.value0?jt(1):n instanceof Xt?n.value0:jt(0)},tr=function(n){return n instanceof Yt||n instanceof Zt?n.value0:n instanceof _t&&n.value0?1:(n instanceof _t&&n.value0,0)},rr=function(n){return n instanceof Yt?(u=n.value0,e=Te(u),Ae(e)?e>=V(k)?V(k):e<=Y(k)?Y(k):an(0)(t(r))(Re(e)):0):n instanceof Zt?n.value0:n instanceof _t&&n.value0?1:(n instanceof _t&&n.value0,0);var e,u},ar=function(){return{add:function(n){return function(e){return n instanceof Yt?new Yt(n.value0+tr(e)):e instanceof Yt?new Yt(tr(n)+e.value0):new Zt(rr(n)+rr(e)|0)}},zero:new Zt(0),mul:function(n){return function(e){return n instanceof Yt?new Yt(n.value0*tr(e)):e instanceof Yt?new Yt(tr(n)*e.value0):new Zt(rr(n)*rr(e)|0)}},one:new Zt(1)}}(),or={sub:function(n){return function(e){return n instanceof Yt?new Yt(n.value0-tr(e)):e instanceof Yt?new Yt(tr(n)-e.value0):new Zt(rr(n)-rr(e)|0)}},Semiring0:function(){return ar}},ir=function(n){return function(e){return d(yn)((u=W,function(n){return function(e){return function(t){return vt(qt)((function(e){return function(t){return function(r){return function(n){return function(e){return function(u){return function(t){var r=e(Nt(n)(u)(t));if(r instanceof tn)return kt(n)(u)(t);if(r instanceof rn)return Wt(n)(u)(r.value0)(t);throw new Error("Failed pattern match at Data.Map.Internal (line 596, column 15 - line 598, column 25): "+[r.constructor.name])}}}}(u)((a=an(r)(n(r)),function(n){return rn.create(a(n))}))(e)(t);var a}}}))(t)(e)}}})(o)(n)(e));var u}},cr=function(n){return function(e){return function(u){return an(n)(t(r))(Nt(W)(e)(u))}}},fr=function(n){return function(e){return function(u){return(t=cr(new Gt(n))(e)(u))instanceof Yt?nn(K)(t.value0):t instanceof Gt?t.value0:t instanceof Zt?nn(Q)(t.value0):t instanceof _t?nn($)(t.value0):"";var t}}},lr=function(n){return function(e){return function(u){return rr(cr(new Zt(n))(e)(u))}}},vr=function(n){return function(e){return function(u){return vn(En)(n(u))(e)}}},sr=function(n){return function(e){return function(u){var t=cr(new Yt(e))(n)(u);return t instanceof Xt?vn(Gu(Uu(hu)))(Tu(Xu(Vu(hu))))((function(n){return d(_u(Uu(hu)))((e=n.nCycles,function(n){return n(e)})(t.value0));var e})):d(_u(Uu(hu)))(tr(t))}}},mr={dancers:[],floors:[]},wr=n=>e=>u=>t=>()=>n.setSize(e,u,t),pr=n=>e=>u=>t=>()=>new THREE.PlaneGeometry(n,e,u,t),dr=n=>e=>()=>n.add(e),hr=n=>e=>()=>n.add(e),gr=n=>e=>u=>t=>()=>n.position.set(e,u,t),Er=n=>()=>n.rotation.x,yr=n=>()=>n.rotation.y,Fr=n=>()=>n.rotation.z,Mr=n=>e=>u=>t=>()=>n.rotation.set(e,u,t),Sr=n=>()=>n.play(),br=()=>window.innerWidth,Dr=()=>window.innerHeight,Ar=(THREE.ClampToEdgeWrapping,THREE.RepeatWrapping,THREE.MirroredRepeatWrapping,THREE.NearestFilter,THREE.LinearFilter,function(n){return function(e){return function(){var u=yr(n)(),t=Fr(n)();return Mr(n)(e)(u)(t)()}}}),Tr=(Array.from,"undefined"!=typeof Symbol&&null!=Symbol&&void 0!==Symbol.iterator&&"function"==typeof String.prototype[Symbol.iterator]),Ir="function"==typeof String.prototype.fromCodePoint,Cr=(String.prototype.codePointAt,function(n){return Ir?String.fromCodePoint:n}),Rr=function(n){return function(e){return Tr?function(n){for(var u="",t=n[Symbol.iterator](),r=0;r<e;++r){var a=t.next();if(a.done)return u;u+=a.value}return u}:n(e)}},xr=function(n){return function(e){return e.substring(n)}},Pr=function(n){return function(e){if(n>=0&&n<e.length)return e.charAt(n);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}},Or=function(){var n,e=(n=$n,function(e){return function(u){return function(t){var r=_n(n)(t);if(r instanceof rn)return r.value0;if(r instanceof tn)return t<Xn(n)(Y(n.Bounded0()))?e:u;throw new Error("Failed pattern match at Data.Enum (line 158, column 33 - line 160, column 62): "+[r.constructor.name])}}})(Y(j))(V(j));return function(n){return e(n)}}(),zr=Cr((function(n){if(n<=65535)return Or(n);var e=Dn(bn)(n-65536|0)(1024)+55296|0,u=Sn(bn)(n-65536|0)(1024)+56320|0;return Or(e)+Or(u)})),Lr=function(n){return function(e){if(n<1)return"";var u=function(n){var e=function(n){return n.length}(n);if(0===e)return tn.value;if(1===e)return new rn({head:Xn($n)(Pr(0)(n)),tail:""});var u,t,r=Xn($n)(Pr(1)(n)),a=Xn($n)(Pr(0)(n)),o=55296<=(u=a)&&u<=56319&&function(n){return 56320<=n&&n<=57343}(r);return new rn(o?{head:(t=a,function(n){return 65536+((1024*(t-55296|0)|0)+(n-56320|0)|0)|0})(r),tail:xr(2)(n)}:{head:a,tail:xr(1)(n)})}(e);return u instanceof rn?zr(u.value0.head)+Lr(n-1|0)(u.value0.tail):e}},Nr=Rr(Lr),Br=function(n){return vn(Gu(Uu(hu)))(Tu(Xu(Vu(hu))))((function(e){return Bu(Ju(ku(Nu)))(it(n.model)((function(n){return(u=e.scene,n=>()=>u.remove(n))(n.scene);var u})))}))},Wr=function(n){return function(e){return it(n.model)((function(u){var t=$u(u.actions);return function(){var r,a=bu(n.prevAnimationIndex)();return h(Eu)(a!==e&&t>0)((r=Sn(bn)(e)(t),function(){return function(){var e,t=rt(u.actions)(r);if(t instanceof rn){var a=bu(n.prevAnimationAction)();if(a instanceof rn)return(e=a.value0,()=>e.stop())(),Sr(t.value0)();if(a instanceof tn)return(n=>e=>()=>n.setEffectiveTimeScale(e))(t.value0)(1)(),Sr(t.value0)(),Du(new rn(t.value0))(n.prevAnimationAction)();throw new Error("Failed pattern match at DancerState (line 141, column 9 - line 148, column 57): "+[a.constructor.name])}if(t instanceof tn)return ot("strange error in LocoMotion: DancerState: playAnimation")();throw new Error("Failed pattern match at DancerState (line 138, column 5 - line 149, column 79): "+[t.constructor.name])}(),Du(e)(n.prevAnimationIndex)()}))()}}))}},Hr=function(n){return function(e){return vn(Gu(Uu(hu)))(Tu(Xu(Vu(hu))))((function(u){return ln(sn)(Gu(Uu(hu)))(Bu(Ju(ku(Nu)))(Du(n)(e.url)))((function(){var t,r,a=(t=n.trim(),"http://"===Nr(7)(t)||"https://"===Nr(8)(t)?t:"https://dktr0.github.io/LocoMotion/models/"+t);return vn(Gu(Uu(hu)))(Bu(Ju(ku(Nu)))((r="https://dktr0.github.io/LocoMotion/threejs/",function(n){return function(e){return function(){var u,t=new THREE.GLTFLoader,a=new THREE.DRACOLoader;return(n=>e=>()=>n.setDecoderPath(e))(a)(r)(),(n=>e=>()=>n.setDRACOLoader(e))(t)(a)(),(u=t,n=>e=>()=>u.load(n,(n=>e(n)())))(n)(e)(),t}}})(a)((function(n){return function(){ot("model "+a+" loaded with "+nn(Q)($u(n.animations))+" animations")(),dr(u.scene)(n.scene)();var t=function(n){return function(){var e,u,t=(e=n.scene,()=>new THREE.AnimationMixer(e))(),r=jn(Yn)(Eu)((u=t,n=>()=>u.clipAction(n)))(n.animations)(),a=Au([])();return{scene:n.scene,clips:n.animations,mixer:t,actions:r,mixerState:a}}}(n)();Du(new rn(t))(e.model)();var r=bu(e.prevAnimationIndex)();return-9999===r?Wr(e)(0)():Wr(e)(r)()}}))))((function(){return d(_u(Uu(hu)))(i)}))}))}))}},qr=function(n){return function(e){return vn(Gu(Uu(hu)))(function(n){return function(e){if(e instanceof tn){var u=fr("raccoon.glb")("url")(n);return vn(Gu(Uu(hu)))(Bu(Ju(ku(Nu)))(Au(u)))((function(n){return vn(Gu(Uu(hu)))(Bu(Ju(ku(Nu)))(Au(tn.value)))((function(e){return vn(Gu(Uu(hu)))(Bu(Ju(ku(Nu)))(Au(-9999)))((function(t){return vn(Gu(Uu(hu)))(Bu(Ju(ku(Nu)))(Au(tn.value)))((function(r){var a={url:n,model:e,prevAnimationIndex:t,prevAnimationAction:r};return ln(sn)(Gu(Uu(hu)))(Hr(u)(a))((function(){return d(_u(Uu(hu)))(a)}))}))}))}))}))}if(e instanceof rn)return u=fr("raccoon.glb")("url")(n),vn(Gu(Uu(hu)))(Bu(Ju(ku(Nu)))(bu(e.value0.url)))((function(n){return ln(sn)(Gu(Uu(hu)))(h(_u(Uu(hu)))(u!==n)(ln(sn)(Gu(Uu(hu)))(Br(e.value0))((function(){return Hr(u)(e.value0)}))))((function(){return d(_u(Uu(hu)))(e.value0)}))}));throw new Error("Failed pattern match at DancerState (line 55, column 1 - line 55, column 71): "+[n.constructor.name,e.constructor.name])}}(n)(e))((function(e){return ln(sn)(Gu(Uu(hu)))((u=n,function(n){return vn(Gu(Uu(hu)))(sr("x")(0)(u))((function(e){return vn(Gu(Uu(hu)))(sr("y")(0)(u))((function(t){return vn(Gu(Uu(hu)))(sr("z")(0)(u))((function(r){return vn(Gu(Uu(hu)))(sr("rx")(0)(u))((function(a){return vn(Gu(Uu(hu)))(sr("ry")(0)(u))((function(o){return vn(Gu(Uu(hu)))(sr("rz")(0)(u))((function(i){return vn(Gu(Uu(hu)))(sr("sx")(1)(u))((function(c){return vn(Gu(Uu(hu)))(sr("sy")(1)(u))((function(f){return vn(Gu(Uu(hu)))(sr("sz")(1)(u))((function(l){return vn(Gu(Uu(hu)))(sr("size")(1)(u))((function(u){return Bu(Ju(ku(Nu)))(it(n.model)((function(n){return function(){return gr(n.scene)(e)(t)(r)(),Mr(n.scene)(a)(o)(i)(),(v=n.scene,n=>e=>u=>()=>v.scale.set(n,e,u))(c*u)(f*u)(l*u)();var v}})))}))}))}))}))}))}))}))}))}))}))})(e))((function(){return ln(sn)(Gu(Uu(hu)))(function(n){return function(e){return vn(Gu(Uu(hu)))(Tu(Xu(Vu(hu))))((function(u){return Bu(Ju(ku(Nu)))(it(e.model)((function(t){return function(){Wr(e)(lr(0)("animation")(n))();var r,a,o=(a="dur",function(n){return tr(cr(new Yt(1))(a)(n))})(n);return function(n){return function(e){return it(n.prevAnimationAction)((function(n){return(u=n,n=>()=>u.setDuration(n))(e);var u}))}}(e)(o*u.cycleDur)(),(r=t.mixer,n=>()=>r.update(n))(u.delta)()}})))}))}}(n)(e))((function(){return d(_u(Uu(hu)))(e)}))}));var u}))}},Ur=function(n){return function(e){var u,t,r=lr(8947848)("colour")(n),a=(t=!0,function(n){return function(e){return(u=cr(new _t(t))(n)(e))instanceof Yt?0!==u.value0:u instanceof Gt&&"true"===u.value0||(u instanceof Zt?0!==u.value0:u instanceof _t&&u.value0);var u}})("shadows")(n);return ln(sn)(Gu(Uu(hu)))(Bu(Ju(ku(Nu)))((u=e.material,n=>()=>u.color=new THREE.Color(n))(r)))((function(){return ln(sn)(Gu(Uu(hu)))(Bu(Ju(ku(Nu)))((n=e.mesh,e=>()=>n.receiveShadow=e)(a)))((function(){return d(_u(Uu(hu)))(e)}));var n}))}},Vr=function(n){return Bu(Ju(ku(Nu)))((e=n.mesh,()=>e.removeFromParent()));var e},kr=vn(Gu(Uu(hu)))(Bu(Ju(ku(Nu)))(pr(100)(100)(1)(1)))((function(n){return vn(Gu(Uu(hu)))(Bu(Ju(ku(Nu)))((e={depthWrite:!1},()=>new THREE.MeshPhongMaterial(e))))((function(e){return vn(Gu(Uu(hu)))(Bu(Ju(ku(Nu)))((n=>e=>()=>new THREE.Mesh(n,e))(n)(e)))((function(n){return ln(sn)(Gu(Uu(hu)))(Bu(Ju(ku(Nu)))(Ar(n)(4.71238898)))((function(){return vn(Gu(Uu(hu)))(Tu(Xu(Vu(hu))))((function(u){return ln(sn)(Gu(Uu(hu)))(Bu(Ju(ku(Nu)))(dr(u.scene)(n)))((function(){return d(_u(Uu(hu)))({mesh:n,material:e})}))}))}))}))}));var e})),jr=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(u){return new n(e,u)}},n}(),Yr={to:function(n){return n},from:function(n){return n}},Gr={show:function(n){return(t=Yr,function(n){return function(e){return n["genericShow'"](t.from(e))}})((u=J()()(un({reflectSymbol:function(){return"column"}})(un({reflectSymbol:function(){return"index"}})(un({reflectSymbol:function(){return"line"}})(_)(Q))(Q))(Q)),e={genericShowArgs:function(n){return[nn(u)(n)]}},function(n){return{"genericShow'":function(u){var t=v(n)(c.value),r=e.genericShowArgs(u);return 0===r.length?t:"("+(" ",function(n){return n.join(" ")})(w(m)([t])(r))+")"}}})({reflectSymbol:function(){return"Position"}}))(n);var e,u,t}},Zr={show:function(n){return"(ParseError "+nn(Z)(n.value0)+" "+nn(Gr)(n.value1)+")"}},_r=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(u){return new n(e,u)}},n}(),Xr=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(u){return new n(e,u)}},n}(),Jr=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(u){return new n(e,u)}},n}(),Kr=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(u){return new n(e,u)}},n}(),Qr=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(u){return new n(e,u)}},n}(),$r=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(u){return new n(e,u)}},n}(),na=function(){function n(n,e,u){this.value0=n,this.value1=e,this.value2=u}return n.create=function(e){return function(u){return function(t){return new n(e,u,t)}}},n}(),ea=function(){function n(n,e){this.value0=n,this.value1=e}return n.create=function(e){return function(u){return new n(e,u)}},n}(),ua=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),ta=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),ra=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),aa=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),oa=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),ia=function(){function n(n,e,u){this.value0=n,this.value1=e,this.value2=u}return n.create=function(e){return function(u){return function(t){return new n(e,u,t)}}},n}(),ca=function(){function n(n,e,u){this.value0=n,this.value1=e,this.value2=u}return n.create=function(e){return function(u){return function(t){return new n(e,u,t)}}},n}(),fa=function(){function n(n,e,u){this.value0=n,this.value1=e,this.value2=u}return n.create=function(e){return function(u){return function(t){return new n(e,u,t)}}},n}(),la=function(){function n(n,e,u){this.value0=n,this.value1=e,this.value2=u}return n.create=function(e){return function(u){return function(t){return new n(e,u,t)}}},n}(),va=function(){function n(n,e,u){this.value0=n,this.value1=e,this.value2=u}return n.create=function(e){return function(u){return function(t){return new n(e,u,t)}}},n}(),sa=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),ma=function(){function n(n){this.value0=n}return n.create=function(e){return new n(e)},n}(),wa={show:function(n){if(n instanceof _r)return"LiteralNumber ("+nn(Gr)(n.value0)+") "+nn(K)(n.value1);if(n instanceof Xr)return"LiteralString ("+nn(Gr)(n.value0)+") "+nn(Z)(n.value1);if(n instanceof Jr)return"LiteralInt ("+nn(Gr)(n.value0)+") "+nn(Q)(n.value1);if(n instanceof Kr)return"LiteralBoolean ("+nn(Gr)(n.value0)+") "+nn($)(n.value1);if(n instanceof Qr)return"This ("+nn(Gr)(n.value0)+") "+nn(Z)(n.value1);if(n instanceof $r)return"SemiGlobal ("+nn(Gr)(n.value0)+") "+nn(Z)(n.value1);if(n instanceof na)return"Application ("+nn(Gr)(n.value0)+") ("+nn(wa)(n.value1)+") ("+nn(wa)(n.value2)+")";if(n instanceof ea)return"Transformer ("+nn(Gr)(n.value0)+") ("+nn(yt(Rn(Z)(wa)))(n.value1)+")";if(n instanceof ua)return"Dancer ("+nn(Gr)(n.value0)+")";if(n instanceof ta)return"Floor ("+nn(Gr)(n.value0)+")";if(n instanceof ra)return"Camera ("+nn(Gr)(n.value0)+")";if(n instanceof aa)return"Osc ("+nn(Gr)(n.value0)+")";if(n instanceof oa)return"Range ("+nn(Gr)(n.value0)+")";if(n instanceof ia)return"Sum ("+nn(Gr)(n.value0)+") ("+nn(wa)(n.value1)+") ("+nn(wa)(n.value2)+")";if(n instanceof ca)return"Difference ("+nn(Gr)(n.value0)+") ("+nn(wa)(n.value1)+") ("+nn(wa)(n.value2)+")";if(n instanceof fa)return"Product ("+nn(Gr)(n.value0)+") ("+nn(wa)(n.value1)+") ("+nn(wa)(n.value2)+")";if(n instanceof la)return"Divide ("+nn(Gr)(n.value0)+") ("+nn(wa)(n.value1)+") ("+nn(wa)(n.value2)+")";throw new Error("Failed pattern match at AST (line 57, column 1 - line 74, column 94): "+[n.constructor.name])}},pa={show:function(n){if(n instanceof va)return"Assignment ("+nn(Gr)(n.value0)+") "+nn(Z)(n.value1)+" ("+nn(wa)(n.value2)+")";if(n instanceof sa)return"Action ("+nn(wa)(n.value0)+")";if(n instanceof ma)return"EmptyStatement ("+nn(Gr)(n.value0)+")";throw new Error("Failed pattern match at AST (line 31, column 1 - line 34, column 64): "+[n.constructor.name])}},da=function(n){if(n instanceof _r)return n.value0;if(n instanceof Xr)return n.value0;if(n instanceof Jr)return n.value0;if(n instanceof Kr)return n.value0;if(n instanceof Qr)return n.value0;if(n instanceof $r)return n.value0;if(n instanceof na)return n.value0;if(n instanceof ea)return n.value0;if(n instanceof ua)return n.value0;if(n instanceof ta)return n.value0;if(n instanceof ra)return n.value0;if(n instanceof aa)return n.value0;if(n instanceof oa)return n.value0;if(n instanceof ia)return n.value0;if(n instanceof ca)return n.value0;if(n instanceof fa)return n.value0;if(n instanceof la)return n.value0;throw new Error("Failed pattern match at AST (line 76, column 1 - line 76, column 45): "+[n.constructor.name])},ha=function(){return new ht(new ma({column:1,index:1,line:1}),dt.value)}(),ga=function(){return Vt(W)(Vn)([new In("colour",new Zt(8947848)),new In("shadows",new _t(!0))])}(),Ea=function(){return Vt(W)(Vn)([new In("x",new Yt(0)),new In("y",new Yt(0)),new In("z",new Yt(0)),new In("rx",new Yt(0)),new In("ry",new Yt(0)),new In("rz",new Yt(0)),new In("sx",new Yt(1)),new In("sy",new Yt(1)),new In("sz",new Yt(1)),new In("size",new Yt(1))])}(),ya={dancers:[],floors:[],cameraMap:function(){return Vt(W)(Vn)([new In("x",new Yt(0)),new In("y",new Yt(1)),new In("z",new Yt(10)),new In("rx",new Yt(0)),new In("ry",new Yt(0)),new In("rz",new Yt(0))])}()},Fa=vn(Gu(Fn))(zu(Ku(Fn)))((function(n){return d(_u(Fn))(n.program.cameraMap)})),Ma=vn(Gu(Fn))(Ou(Ku(Fn))((function(n){var e={};for(var u in n)({}).hasOwnProperty.call(n,u)&&(e[u]=n[u]);return e.program=function(){var e={};for(var u in n.program)({}).hasOwnProperty.call(n.program,u)&&(e[u]=n.program[u]);return e.floors=ut(n.program.floors)(ga),e}(),e})))((function(n){var e=$u(n.program.floors)-1|0;return d(_u(Fn))(new $t(e,ga))})),Sa=vn(Gu(Fn))(Ou(Ku(Fn))((function(n){var e={};for(var u in n)({}).hasOwnProperty.call(n,u)&&(e[u]=n[u]);return e.program=function(){var e={};for(var u in n.program)({}).hasOwnProperty.call(n.program,u)&&(e[u]=n.program[u]);return e.dancers=ut(n.program.dancers)(Ea),e}(),e})))((function(n){var e=$u(n.program.dancers)-1|0;return d(_u(Fn))(new Qt(e,Ea))})),ba=function(n){if(n instanceof wn)return Iu(Qu(Cu))(n.value0);if(n instanceof pn)return d(_u(Fn))(n.value0);throw new Error("Failed pattern match at P (line 32, column 1 - line 32, column 61): "+[n.constructor.name])},Da=function(n){return vn(Gu(Fn))(Fa)((function(e){return vn(Gu(Fn))(ba(n(e)))((function(n){return ln(sn)(Gu(Fn))(Pu(Ku(Fn))((function(e){var u={};for(var t in e)({}).hasOwnProperty.call(e,t)&&(u[t]=e[t]);return u.program=function(){var u={};for(var t in e.program)({}).hasOwnProperty.call(e.program,t)&&(u[t]=e.program[t]);return u.cameraMap=n,u}(),u})))((function(){return d(_u(Fn))(nr.value)}))}))}))},Aa=function(n){return function(e){return vn(Gu(Fn))(zu(Ku(Fn)))((function(u){return vn(Gu(Fn))(function(){var t=rt(u.program.dancers)(n);if(t instanceof tn)return d(_u(Fn))(Ut);if(t instanceof rn)return ba(e(t.value0));throw new Error("Failed pattern match at P (line 46, column 11 - line 48, column 41): "+[t.constructor.name])}())((function(e){return ln(sn)(Gu(Fn))(function(){var t=tt(n)(e)(u.program.dancers);if(t instanceof tn)return d(_u(Fn))(i);if(t instanceof rn)return xu(Ku(Fn))(function(){var n={};for(var e in u)({}).hasOwnProperty.call(u,e)&&(n[e]=u[e]);return n.program=function(){var n={};for(var e in u.program)({}).hasOwnProperty.call(u.program,e)&&(n[e]=u.program[e]);return n.dancers=t.value0,n}(),n}());throw new Error("Failed pattern match at P (line 49, column 3 - line 51, column 62): "+[t.constructor.name])}())((function(){return d(_u(Fn))(new Qt(n,e))}))}))}))}},Ta=function(n){return function(e){return vn(Gu(Fn))(zu(Ku(Fn)))((function(u){return vn(Gu(Fn))(function(){var t=rt(u.program.floors)(n);if(t instanceof tn)return d(_u(Fn))(Ut);if(t instanceof rn)return ba(e(t.value0));throw new Error("Failed pattern match at P (line 64, column 11 - line 66, column 41): "+[t.constructor.name])}())((function(e){return ln(sn)(Gu(Fn))(function(){var t=tt(n)(e)(u.program.floors);if(t instanceof tn)return d(_u(Fn))(i);if(t instanceof rn)return xu(Ku(Fn))(function(){var n={};for(var e in u)({}).hasOwnProperty.call(u,e)&&(n[e]=u[e]);return n.program=function(){var n={};for(var e in u.program)({}).hasOwnProperty.call(u.program,e)&&(n[e]=u.program[e]);return n.floors=t.value0,n}(),n}());throw new Error("Failed pattern match at P (line 67, column 3 - line 69, column 61): "+[t.constructor.name])}())((function(){return d(_u(Fn))(new $t(n,e))}))}))}))}},Ia=function(n){return function(e){return function(u){return function(t){return(r=hn,function(n){return function(e){return f(r)(xn)(n(e))}})(t)({semiMap:n,thisMap:e,program:u});var r}}}},Ca=Ia(Ut)(Ut)(ya),Ra=function(n){return nn(Q)(n.value1.line)+":"+nn(Q)(n.value1.column)+" "+n.value0},xa=function(n){return function(n){return d(yn)(new Kt((function(e){return function(e){return d(yn)(new Kt((function(u){return function(u){return d(yn)(new Xt(function(n){return function(e){return function(u){return function(t){return(.5*u(t)+.5)*(e(t)-n(t))+n(t)}}}}(ur(n))(ur(e))(ur(u))))}})))}})))}},Pa=function(n){return function(e){var u,t=n,r=!1;function a(n,u){return u instanceof Xt?(r=!0,d(yn)(new Xt((function(n){return Ie(u.value0(n)*n*2*Ce)})))):u instanceof Yt?(r=!0,d(yn)(new Xt((function(n){return Ie(u.value0*n*2*Ce)})))):u instanceof Zt?(t=n,void(e=new Yt(u.value0))):(r=!0,Iu(Cu)(new jr("argument to osc must be Variable/Number/Int",n)))}for(;!r;)u=a(t,e);return u}},Oa=function(n){return function(e){var u=n(e);if(u instanceof wn)return Iu(Qu(Cu))(u.value0);if(u instanceof pn)return d(_u(Fn))(new Jt(ir(u.value0)));throw new Error("Failed pattern match at Parser (line 188, column 3 - line 190, column 67): "+[u.constructor.name])}},za=function(n){return vn(Gu(Fn))(zu(Ku(Fn)))((function(e){return d(_u(Fn))((function(u){return Ia(e.semiMap)(u)(e.program)(vn(Gu(Fn))(La(n.value1))((function(e){return d(_u(Fn))(Wt(W)(n.value0)(e)(u))})))}))}))},La=function(n){if(n instanceof _r)return d(_u(Fn))(new Yt(n.value1));if(n instanceof Xr)return d(_u(Fn))(new Gt(n.value1));if(n instanceof Jr)return d(_u(Fn))(new Zt(n.value1));if(n instanceof Kr)return d(_u(Fn))(new _t(n.value1));if(n instanceof Qr)return vn(Gu(Fn))(zu(Ku(Fn)))((function(e){var u=Nt(W)(n.value1)(e.thisMap);if(u instanceof tn)return Iu(Qu(Cu))(new jr("unknown this reference "+n.value1,n.value0));if(u instanceof rn)return d(_u(Fn))(u.value0);throw new Error("Failed pattern match at Parser (line 74, column 3 - line 76, column 21): "+[u.constructor.name])}));if(n instanceof $r)return vn(Gu(Fn))(zu(Ku(Fn)))((function(e){var u=Nt(W)(n.value1)(e.semiMap);if(u instanceof tn)return Iu(Qu(Cu))(new jr("unknown semiglobal reference "+n.value1,n.value0));if(u instanceof rn)return d(_u(Fn))(u.value0);throw new Error("Failed pattern match at Parser (line 80, column 3 - line 82, column 21): "+[u.constructor.name])}));if(n instanceof na)return Na(n.value0)(n.value1)(n.value2);if(n instanceof ea)return e=n.value1,vn(Gu(Fn))(jn(Ft)(_u(Fn))(za)(e))((function(n){return d(_u(Fn))(new Jt(Un(Et)(vr)(d(yn))(n)))}));var e;if(n instanceof ua)return Sa;if(n instanceof ta)return Ma;if(n instanceof ra)return d(_u(Fn))(nr.value);if(n instanceof aa)return d(_u(Fn))(new Kt(Pa));if(n instanceof oa)return d(_u(Fn))(new Kt(xa));if(n instanceof ia)return vn(Gu(Fn))(La(n.value1))((function(e){return vn(Gu(Fn))(La(n.value2))((function(n){return d(_u(Fn))(ar.add(e)(n))}))}));if(n instanceof ca)return vn(Gu(Fn))(La(n.value1))((function(e){return vn(Gu(Fn))(La(n.value2))((function(n){return d(_u(Fn))(L(or)(e)(n))}))}));if(n instanceof fa)return vn(Gu(Fn))(La(n.value1))((function(e){return vn(Gu(Fn))(La(n.value2))((function(n){return d(_u(Fn))(z(ar)(e)(n))}))}));if(n instanceof la)return vn(Gu(Fn))(La(n.value1))((function(e){return vn(Gu(Fn))(La(n.value2))((function(n){return d(_u(Fn))((u=e,function(n){var e;return new Yt((e=tr(u),function(n){return 0===n?0:e/n})(tr(n)))})(n));var u}))}));throw new Error("Failed pattern match at Parser (line 66, column 1 - line 66, column 43): "+[n.constructor.name])},Na=function(n){return function(e){return function(u){return vn(Gu(Fn))(La(e))((function(e){return vn(Gu(Fn))(La(u))((function(t){if(e instanceof Yt)return Iu(Qu(Cu))(new jr("A Number can't be the left side of a function application",n));if(e instanceof Gt)return Iu(Qu(Cu))(new jr("A String can't be the left side of a function application",n));if(e instanceof Zt)return Iu(Qu(Cu))(new jr("An Int can't be the left side of a function application",n));if(e instanceof _t)return Iu(Qu(Cu))(new jr("A Boolean can't be the left side of a function application",n));if(e instanceof Xt)return Iu(Qu(Cu))(new jr("A Variable can't be the left side of a function application",n));if(e instanceof Jt)return t instanceof Jt?d(_u(Fn))(new Jt(vr(e.value0)(t.value0))):t instanceof Qt||t instanceof $t?Oa(e.value0)(t.value1):t instanceof nr?vn(Gu(Fn))(Fa)((function(n){return Oa(e.value0)(n)})):Iu(Qu(Cu))(new jr("invalid argument applied to Transformer",da(u)));if(e instanceof Qt)return t instanceof Jt?Aa(e.value0)(t.value0):t instanceof Qt||t instanceof $t?Aa(e.value0)(ir(t.value1)):t instanceof nr?vn(Gu(Fn))(Fa)((function(n){return Aa(e.value0)(ir(n))})):Iu(Qu(Cu))(new jr("invalid argument applied to Dancer",da(u)));if(e instanceof $t)return t instanceof Jt?Ta(e.value0)(t.value0):t instanceof Qt||t instanceof $t?Ta(e.value0)(ir(t.value1)):t instanceof nr?vn(Gu(Fn))(Fa)((function(n){return Ta(e.value0)(ir(n))})):Iu(Qu(Cu))(new jr("invalid argument applied to Floor",da(u)));if(e instanceof nr)return t instanceof Jt?Da(t.value0):t instanceof Qt||t instanceof $t?Da(ir(t.value1)):t instanceof nr?d(_u(Fn))(nr.value):Iu(Qu(Cu))(new jr("invalid argument applied to Camera",da(u)));if(e instanceof Kt){var r=e.value0(da(u))(t);if(r instanceof wn)return Iu(Qu(Cu))(r.value0);if(r instanceof pn)return d(_u(Fn))(r.value0);throw new Error("Failed pattern match at Parser (line 154, column 7 - line 156, column 26): "+[r.constructor.name])}throw new Error("Failed pattern match at Parser (line 112, column 3 - line 156, column 26): "+[e.constructor.name])}))}))}}},Ba=function(n){if(n instanceof va)return vn(Gu(Fn))(La(n.value2))((function(e){return Pu(Ku(Fn))((function(u){var t={};for(var r in u)({}).hasOwnProperty.call(u,r)&&(t[r]=u[r]);return t.semiMap=Wt(W)(n.value1)(e)(u.semiMap),t}))}));if(n instanceof sa)return vn(Gu(Fn))(La(n.value0))((function(){return d(_u(Fn))(i)}));if(n instanceof ma)return d(_u(Fn))(i);throw new Error("Failed pattern match at Parser (line 57, column 1 - line 57, column 38): "+[n.constructor.name])},Wa=function(n){return function(e){return function(u){return function(){var t=bu(u)();return Du(Wt(H)(n)(e)(t))(u)()}}}},Ha=function(n){return function(e){return function(){var u=bu(e)();return Nt(H)(n)(u)}}},qa=Au(Ut),Ua=function(n){return function(e){return function(){var u=bu(e)();return Du(kt(H)(n)(u))(e)()}}},Va=function(n){return function(e){return function(u){return function(t){return vn(Gu(Uu(hu)))(sr(n)(e)(u))((function(n){return Bu(Ju(ku(Nu)))(t(n))}))}}}},ka=function(n){return function(e){return function(u){var t=tt(n)(e)(u);if(t instanceof rn)return t.value0;if(t instanceof tn)return u;throw new Error("Failed pattern match at RenderEngine (line 193, column 19 - line 195, column 15): "+[t.constructor.name])}}},ja=function(n){return function(e){return vn(Gu(Uu(hu)))(zu(Ku(Uu(hu))))((function(u){return vn(Gu(Uu(hu)))(qr(e)(rt(u.dancers)(n)))((function(e){return Pu(Ku(Uu(hu)))((function(u){var t={};for(var r in u)({}).hasOwnProperty.call(u,r)&&(t[r]=u[r]);return t.dancers=ka(n)(e)(u.dancers),t}))}))}))}},Ya=function(n){return function(e){return vn(Gu(Uu(hu)))(zu(Ku(Uu(hu))))((function(u){return vn(Gu(Uu(hu)))(function(n){return function(e){if(e instanceof tn)return vn(Gu(Uu(hu)))(kr)((function(e){return Ur(n)(e)}));if(e instanceof rn)return Ur(n)(e.value0);throw new Error("Failed pattern match at FloorState (line 19, column 1 - line 19, column 66): "+[n.constructor.name,e.constructor.name])}}(e)(rt(u.floors)(n)))((function(e){return Pu(Ku(Uu(hu)))((function(u){var t={};for(var r in u)({}).hasOwnProperty.call(u,r)&&(t[r]=u[r]);return t.floors=ka(n)(e)(u.floors),t}))}))}))}},Ga=function(n){return function(e){return function(u){return(t=n,function(n){return function(e){return(u=Hu(Mu),function(n){return function(e){return f(u)(Cn)(n(e))}})(e)(n)(t);var u}})(u)(ln(sn)(Gu(Uu(hu)))((r=e.dancers,vn(Gu(Uu(hu)))(wt(pt)(_u(Uu(hu)))(ja)(r))((function(){var n=$u(r);return vn(Gu(Uu(hu)))(zu(Ku(Uu(hu))))((function(e){return ln(sn)(Gu(Uu(hu)))(qn(_u(Uu(hu)))(Vn)(Br)(at(n)(e.dancers)))((function(){return Pu(Ku(Uu(hu)))((function(e){var u={};for(var t in e)({}).hasOwnProperty.call(e,t)&&(u[t]=e[t]);return u.dancers=et(n)(e.dancers),u}))}))}))}))))((function(){return ln(sn)(Gu(Uu(hu)))(function(n){return vn(Gu(Uu(hu)))(wt(pt)(_u(Uu(hu)))(Ya)(n))((function(){var e=$u(n);return vn(Gu(Uu(hu)))(zu(Ku(Uu(hu))))((function(n){return ln(sn)(Gu(Uu(hu)))(qn(_u(Uu(hu)))(Vn)(Vr)(at(e)(n.floors)))((function(){return Pu(Ku(Uu(hu)))((function(n){var u={};for(var t in n)({}).hasOwnProperty.call(n,t)&&(u[t]=n[t]);return u.floors=et(e)(n.floors),u}))}))}))}))}(e.floors))((function(){return n=e.cameraMap,vn(Gu(Uu(hu)))(Tu(Xu(Vu(hu))))((function(e){return ln(sn)(Gu(Uu(hu)))(Va("x")(0)(n)((u=e.camera,n=>()=>u.position.setX(n))))((function(){return ln(sn)(Gu(Uu(hu)))(Va("y")(1)(n)((n=>e=>()=>n.position.setY(e))(e.camera)))((function(){return ln(sn)(Gu(Uu(hu)))(Va("z")(10)(n)((n=>e=>()=>n.position.setZ(e))(e.camera)))((function(){return ln(sn)(Gu(Uu(hu)))(Va("rx")(0)(n)(Ar(e.camera)))((function(){return ln(sn)(Gu(Uu(hu)))(Va("ry")(0)(n)((u=e.camera,function(n){return function(){var e=Er(u)(),t=Fr(u)();return Mr(u)(e)(n)(t)()}})))((function(){return Va("rz")(0)(n)(function(n){return function(e){return function(){var u=Er(n)(),t=yr(n)();return Mr(n)(u)(t)(e)()}}}(e.camera))}));var u}))}))}))}));var u}));var n}))})));var t,r}}},Za=function(n){return function(e){return function(u){return function(){var a=function(n){return function(e){return function(u){return function(){ot("evaluate...")();var u=function(n){var e=new pn(ha);return function(){if(ot("result of runParser: ")(),ot(nn(dn(Zr)(yt(pa)))(e))(),e instanceof pn){var n=Ca((a=e.value0,ln(sn)(Gu(Fn))(qn(_u(Fn))(Et)(Ba)(a))((function(){return vn(Gu(Fn))(zu(Ku(Fn)))((function(n){return d(_u(Fn))({dancers:n.program.dancers,floors:n.program.floors,cameraMap:n.program.cameraMap})}))}))));return ot("result of astToProgram: ")(),ot(nn(dn(Zr)(J()()(un({reflectSymbol:function(){return"cameraMap"}})(un({reflectSymbol:function(){return"dancers"}})(un({reflectSymbol:function(){return"floors"}})(_)(en(Lt(Z)(er))))(en(Lt(Z)(er))))(Lt(Z)(er)))))(n))(),(u=zn,function(n){return u.bimap(n)(t(r))})(Ra)(n)}var u,a;if(e instanceof wn)return new wn(Ra(e.value0));throw new Error("Failed pattern match at Parser (line 40, column 3 - line 46, column 45): "+[e.constructor.name])}}()();if(u instanceof pn)return Wa(e)(u.value0)(n.programs)(),ot("evaluate completed with no error")(),tn.value;if(u instanceof wn)return ot("evaluate completed with error")(),new rn(u.value0);throw new Error("Failed pattern match at RenderEngine (line 99, column 3 - line 106, column 22): "+[u.constructor.name])}}}}(n)(e)(u)();if(a instanceof rn)return{success:!1,error:a.value0};if(a instanceof tn)return{success:!0,error:""};throw new Error("Failed pattern match at Main (line 26, column 3 - line 28, column 51): "+[a.constructor.name])}}}};function _a(n){var e;this.lm=(e=n,function(){ot("LocoMotion: launch...")();var n,u=new THREE.Scene,t=(n=4473924,e=>()=>new THREE.HemisphereLight(16777215,n,e))(.8)();gr(t)(0)(20)(0)(),hr(u)(t)();var r,a=(r=.8,()=>new THREE.DirectionalLight(16777215,r))();gr(a)(-1)(1)(10)(),hr(u)(a)();var o,i=br(),c=Dr(),f=(o=i/c,n=>e=>()=>new THREE.PerspectiveCamera(45,o,n,e))(.1)(100)();gr(f)(0)(1)(10)();var l,v=(l={antialias:!0,canvas:e},()=>new THREE.WebGLRenderer(l))();wr(v)(i)(c)(!1)();var s,m=(s=su(H)(bn)(1)(2),function(){var n=Su();return{freq:s,time:n,count:su(H)(bn)(0)(1)}})(),w=Au({scene:u,camera:f,renderer:v,tempo:m,nCycles:0,cycleDur:2,delta:0})(),p=qa(),d=qa(),h=vn(gu)(Su)(Au)();return ot("LocoMotion: launch completed")(),{renderEnvironment:w,programs:p,zoneStates:d,prevTNow:h}})()}return _a.prototype.evaluate=function(n,e){return Za(this.lm)(n)(e)()},_a.prototype.clearZone=function(n){return(e=this.lm,function(n){return function(){return Ua(n)(e.programs)(),Ua(n)(e.zoneStates)(),ot("LocoMotion WARNING: clearZone is not properly implemented yet (needs to delete assets!)")()}})(n)();var e},_a.prototype.setTempo=function(n){return(e=this.lm,function(n){return function(){var u,t,r,a=bu(e.renderEnvironment)();return Du({tempo:(u=n,r=lu(cn()((t=u.time)>=-86399778816e5&&t<=8639977881599999?new rn(t):tn.value)),{freq:su(H)(bn)(u.freqNumerator)(u.freqDenominator),time:r,count:su(H)(bn)(u.countNumerator)(u.countDenominator)}),camera:a.camera,cycleDur:a.cycleDur,delta:a.delta,nCycles:a.nCycles,renderer:a.renderer,scene:a.scene})(e.renderEnvironment)()}})(n)();var e},_a.prototype.preAnimate=function(){return(n=this.lm,function(){var e=Su(),u=bu(n.prevTNow)();Du(e)(n.prevTNow)();var t,r=bu(n.renderEnvironment)(),a={delta:Bn()(fu(Oe)(e)(u)),nCycles:(t=r.tempo,function(n){return Bn()(fu(ze)(n)(t.time))*mu(t.freq)/1e3+mu(t.count)})(e),cycleDur:1/mu(r.tempo.freq),camera:r.camera,renderer:r.renderer,scene:r.scene,tempo:r.tempo};return Du(a)(n.renderEnvironment)()})();var n},_a.prototype.animateZone=function(n){return(e=this.lm,function(n){return function(){var u=Ha(n)(e.programs)();if(u instanceof tn)return ot("LocoMotion ERROR: animateZone called for zone with no program")(),i;if(u instanceof rn){var t=Ha(n)(e.zoneStates)(),r=function(){if(t instanceof rn)return t.value0;if(t instanceof tn)return mr;throw new Error("Failed pattern match at RenderEngine (line 140, column 23 - line 142, column 52): "+[t.constructor.name])}(),a=bu(e.renderEnvironment)(),o=Ga(a)(u.value0)(r)();return Wa(n)(o)(e.zoneStates)()}throw new Error("Failed pattern match at RenderEngine (line 134, column 3 - line 145, column 47): "+[u.constructor.name])}})(n)();var e},_a.prototype.postAnimate=function(){return(n=this.lm,function(){var e,u=(e=n.zoneStates,function(){var n=bu(e)();return Pt(n)})();return h(Eu)(u>0)((function(){var e,u,t=br(),r=Dr(),a=bu(n.renderEnvironment)();return(e=a.camera,n=>()=>e.aspect=n)(t/r)(),wr(a.renderer)(t)(r)(!1)(),(u=a.renderer,n=>e=>()=>u.render(n,e))(a.scene)(a.camera)()}))()})();var n},e})()));